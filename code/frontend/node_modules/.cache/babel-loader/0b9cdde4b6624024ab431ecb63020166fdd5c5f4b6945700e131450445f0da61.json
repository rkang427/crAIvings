{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[restaurantData,setRestaurantData]=useState(null);const[inputValue,setInputValue]=useState(\"\");const[loading,setLoading]=useState(false);useEffect(()=>{async function fetchRestaurantData(){try{setLoading(true);const response=await axios.get('http://127.0.0.1:8000/');setRestaurantData(response.data);}catch(error){console.error('Error fetching data:',error);}finally{setLoading(false);}}fetchRestaurantData();},[]);const formatData=data=>{if(!data){return\"No data found\";}return Object.keys(data).map(key=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[parseInt(key)+1,\":\",/*#__PURE__*/_jsx(\"span\",{children:\"   \"}),typeof data[key]==='object'?data[key].name:data[key]]}),/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"strong\",{children:\" address: \"}),typeof data[key]==='object'?data[key].address:data[key],/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"strong\",{children:\" rating: \"}),typeof data[key]==='object'?data[key].stars:data[key]]},key));};const handleInputChange=event=>{setInputValue(event.target.value);};const handleSubmit=async event=>{event.preventDefault();if(!inputValue){alert(\"Please enter some input\");return;}try{const response=await axios.get('http://127.0.0.1:8000/restaurant/recommendations',{params:{query:inputValue}});console.log(\"Data submitted successfully:\",response.data);setRestaurantData(response.data);}catch(error){console.error('Error submitting data:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"What food would you like to eat?\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputBox\",children:\"Enter cuisine:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"inputBox\",type:\"text\",value:inputValue,onChange:handleInputChange,placeholder:\"thai, mexican,..\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"})]}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading restaurant data...\"}):restaurantData&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Our Recommendations:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"pretty-json\",children:formatData(restaurantData)})]})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","App","restaurantData","setRestaurantData","inputValue","setInputValue","loading","setLoading","fetchRestaurantData","response","get","data","error","console","formatData","Object","keys","map","key","children","parseInt","name","address","stars","handleInputChange","event","target","value","handleSubmit","preventDefault","alert","params","query","log","className","onSubmit","htmlFor","id","type","onChange","placeholder"],"sources":["/Users/rheekang/docker_projects/crAIvings/code/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport './App.css';\n\nfunction App() {\n  const [restaurantData, setRestaurantData] = useState(null);\n  const [inputValue, setInputValue] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    async function fetchRestaurantData() {\n      try {\n        setLoading(true);\n        const response = await axios.get('http://127.0.0.1:8000/');\n        setRestaurantData(response.data);\n      } catch (error) {\n        console.error('Error fetching data:', error);\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    fetchRestaurantData();\n  }, []);\n\n  const formatData = (data) => {\n    if (!data) {\n      return \"No data found\";\n    }\n    return Object.keys(data).map((key) => (\n        <div key={key}>\n          <strong>{parseInt(key) + 1}:<span>   </span>\n            {typeof data[key] === 'object' ? data[key].name : data[key]}</strong>\n\n          <br/> <strong> address: </strong>\n          {typeof data[key] === 'object' ? data[key].address : data[key]}\n\n          <br/> <strong> rating: </strong>\n          {typeof data[key] === 'object' ? data[key].stars : data[key]}\n        </div>\n    ));\n  }\n\n  const handleInputChange = (event) => {\n    setInputValue(event.target.value);\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    if (!inputValue) {\n      alert(\"Please enter some input\");\n      return;\n    }\n\n    try {\n      const response = await axios.get('http://127.0.0.1:8000/restaurant/recommendations', {\n        params: { query: inputValue }\n      });\n\n      console.log(\"Data submitted successfully:\", response.data);\n      setRestaurantData(response.data);\n    } catch (error) {\n      console.error('Error submitting data:', error);\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>What food would you like to eat?</h1>\n\n      <form onSubmit={handleSubmit}>\n        <label htmlFor=\"inputBox\">Enter cuisine:</label>\n        <input\n          id=\"inputBox\"\n          type=\"text\"\n          value={inputValue}\n          onChange={handleInputChange}\n          placeholder=\"thai, mexican,..\"\n        />\n        <button type=\"submit\">Submit</button>\n      </form>\n\n      {loading ? (\n        <p>Loading restaurant data...</p>\n      ) : (\n        restaurantData && (\n          <div>\n            <h2>Our Recommendations:</h2>\n            <div className=\"pretty-json\">\n              {formatData(restaurantData)}\n            </div>\n          </div>\n        )\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}